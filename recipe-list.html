<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipes</title>
    <!-- Link to external CSS -->
    <link rel="stylesheet" href="/css/styles.css">
</head>


<body>
    <div class="container">
        <aside class="filters">
            <h2>Filters</h2>
            
            <div class="filter-section">
                <h3>Diet</h3>
                <div class="filter-option">
                    <div class="checkbox-wrapper checked" data-filter="vaggies"></div>
                    <span>Vaggies</span>
                </div>
                <div class="filter-option">
                    <div class="checkbox-wrapper" data-filter="dairy"></div>
                    <span>Dairy</span>
                </div>
            </div>
    
            <div class="filter-section">
                <h3>Allergies</h3>
                <div class="filter-option">
                    <div class="checkbox-wrapper checked" data-filter="gluten"></div>
                    <span>Gluten</span>
                </div>
                <div class="filter-option">
                    <div class="checkbox-wrapper" data-filter="lorem"></div>
                    <span>Lorem</span>
                </div>
            </div>
    
            <div class="filter-section">
                <h3>Cuisines</h3>
                <div class="filter-option">
                    <div class="checkbox-wrapper checked" data-filter="pakistani"></div>
                    <span>Pakistani</span>
                </div>
                <div class="filter-option">
                    <div class="checkbox-wrapper" data-filter="indian"></div>
                    <span>Indian</span>
                </div>
                <div class="filter-option">
                    <div class="checkbox-wrapper" data-filter="persian"></div>
                    <span>Persian</span>
                </div>
                <div class="filter-option">
                    <div class="checkbox-wrapper" data-filter="british"></div>
                    <span>British</span>
                </div>
                <div class="filter-option">
                    <div class="checkbox-wrapper" data-filter="irish"></div>
                    <span>Irish</span>
                </div>
                <a href="#" class="see-more">See more</a>
            </div>
    
            <div class="filter-section">
                <h3>Goals</h3>
                <div class="filter-option">
                    <div class="checkbox-wrapper checked" data-filter="weight-loss"></div>
                    <span>Weight Loss</span>
                </div>
                <div class="filter-option">
                    <div class="checkbox-wrapper" data-filter="get-active"></div>
                    <span>Get Active</span>
                </div>
            </div>
        </aside>
    
        <main class="content">
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search recipes...">
                <button id="search-button"><i class="fa-solid fa-magnifying-glass"></i></button>
            </div>
            <div class="recipe-grid">
                <!-- Recipe cards will be dynamically inserted here -->
            </div>
            <h2 class="recommended">Recommended Recipes</h2>
        </main>
    </div>
    

  
  <script src="https://kit.fontawesome.com/a7974b8dae.js" crossorigin="anonymous"></script>
  <script>
    const url = 'https://tasty.p.rapidapi.com/recipes/list?from=0&size=3';
    const options = {
      method: 'GET',
      headers: {
        'x-rapidapi-key': '68cba2fba6msh9f5fdc2e429bba0p1bc93ajsn542f247a478b',
        'x-rapidapi-host': 'tasty.p.rapidapi.com'
      }
    };

    // Define an async function
    async function fetchRecipeData() {
      try {
        const response = await fetch(url, options);
        const result = await response.json(); // Change text() to json() for structured data
        console.log(result);
        createRecipeCards(result.results);
      } catch (error) {
        console.error("Error fetching data:", error);
      }
    }

      // Generate recipe cards
      function createRecipeCards(recipes) {
          const grid = document.querySelector('.recipe-grid');

          recipes.forEach((recipe)=>{
            const card = document.createElement('div');
              card.className = 'recipe-card';
              card.innerHTML = `
                  <img src="${recipe.thumbnail_url}" alt="${recipe.title}" class="recipe-image">
                  <div class="recipe-info">
                      <div class="recipe-header">
                          <h3 class="recipe-title">${recipe.name}</h3>
                           <div class="recipe-actions">
                              <button class="action-button"><i class="fa-regular fa-xl fa-bookmark"></i></button>
                          </div>
                          
                      </div>
                      <div class="recipe-footer">
                          <div class="recipe-tag">${recipe.tag}</div>
                          <span class="recipe-time">${recipe.total_time_minutes} min</span>
                      </div>
                  </div>
              `;
              grid.appendChild(card);
          });
      }

      // Handle checkbox toggles
      document.querySelectorAll('.checkbox-wrapper').forEach(checkbox => {
          checkbox.addEventListener('click', () => {
              checkbox.classList.toggle('checked');
          });
      });
      fetchRecipeData();
  </script>
</body>
</html>